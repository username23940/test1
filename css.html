<!doctype html>
<html>
<head>
  <title>WEB1 - css exercise</title>
  <meta charset="utf-8"> 
  <link rel='stylesheet' href='style.css'> 
  <style>
    /* transition transform animation https://inpa.tistory.com/entry/CSS-%F0%9F%93%9A-%ED%8A%B8%EB%9E%9C%EC%A7%80%EC%85%98-%ED%8A%B8%EB%9E%9C%EC%8A%A4%ED%8F%BC-%EC%95%A0%EB%8B%88%EB%A9%94%EC%9D%B4%EC%85%98
    참고 */
    .scroll-banner {
      width: 100%;
      overflow: hidden; /* child가 parent 넘어가면 숨김 */
      background-color: #222;
      white-space: nowrap; /* 텍스트가 줄 바꿈 안 되게 */
      padding: 10px 0;
      margin-top : 70px ;
    }
    
    .scroll-text {
      display: inline-block;
      padding-left: 100%; /* 처음엔 보이지 않게, 오른쪽 바깥쪽에서 시작 */
      animation: scroll-left 15s linear infinite; /* scroll-left를 keyframes에서 받음*/
    }
    
    @keyframes scroll-left {
      from { /* 시작지점의 모양. 0%로 사용 가능 */
        transform: translateX(0%);
      }
      to {  /* 종료지점의 모양. 100%로 사용 가능 */
        transform: translateX(-100%);
      }
    } /* 좌우 애니메이션 연습 */
    
    
    .gallery { /* lightbox modal */
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); /* CSS Grid 레이아웃에서 열의 개수와 크기를 정하는 속성이야.
          repeat(auto-fill, ...): "가능한 한 많이(auto-fill)" 열을 자동으로 채우라는 뜻.
          minmax(200px, 1fr): 각 열은 최소 200px 크기, 최대 1fr(남는 공간을 균등 분배)로 늘어나도록 지정.
          즉, 브라우저 너비에 따라 열 개수가 유동적으로 늘어나거나 줄어드는 반응형 갤러리를 만드는 거야*/
      gap: 15px;
      padding: 20px;
    }
    .gallery img {
      width: 100%;
      cursor: pointer; /* 마우스를 올렸을 때 커서 모양을 손가락(클릭 가능) 모양으로 바꿔줘. 버튼이나 링크처럼 "이거 클릭할 수 있어"라는 신호를 주는 UX 속성. */
      border-radius: 8px; /* 요소의 모서리를 둥글게 만드는 속성이야. 8px이면 살짝 둥근 사각형이 되고, 50%로 주면 완전히 원(circle)이 돼.보통 카드형 UI, 이미지, 버튼에 미관상 많이 씀. */
      transition: transform 0.3s; /* CSS 속성 값이 바뀔 때 부드럽게 애니메이션 효과를 주는 거야. transform(예: scale, rotate)이 바뀔 때 0.3초 동안 천천히 변화. 보통 hover랑 같이 쓰임. */
    }
    .gallery img:hover {
      transform: scale(1.05); /* 실제로 변화 효과를 줄 때 사용. like @keyframes */ 
    }  
/* 오버레이: 처음에는 숨겨진 상태 */
.gallery {
  background:rgba(0,0,0,0.85); /* 17. 반투명 검은 배경 */
  visibility:hidden; /* 18. 기본적으로 안 보임 */
  opacity:0; /* 19. 투명하게 */
  transition:opacity .2s; /* 20. opacity가 변할 때 0.2초 애니메이션 */
  z-index:999; /* 21. 다른 요소 위에 올라오게 */
}

/* 오버레이에 .show 클래스가 붙으면 보이게 */
.gallery.show {
  visibility:visible; /* 22. 화면에 표시 */
  opacity:1; /* 23. 불투명하게 */
}

.closebtn {
  position:fixed; /* 27. 닫기 버튼을 화면 고정 위치에 */
  top:20px; /* 28. 위에서 20px */
  right:20px; /* 29. 오른쪽에서 20px */
  font-size:28px; /* 30. 글자 크기 크게 (× 표시 크기) */
  color:white; /* 31. 흰색으로 표시 */
  cursor:pointer; /* 32. 마우스 올리면 손가락 모양 */
}
  </style>
  
</head>
<body>
  <h1><a href="index.html">WEB1</a></h1>

  <div id = 'grid'>
    <ol>
      <li><a href="1.html" style='text-decoration:underline;color:powderblue'>HTML</a> // html 속성 사용</li> 
      <li><a href="2.html" class="saw">CSS</a> // 방문했던 페이지</li> 
      <li><a href="3.html" class="saw" id='active'>JavaScript</a> // 방문했던 페이지 + 현재 페이지</li> 
    </ol>
    
    <div id='article'>
      <h2 style='color : powderblue ; background-color : coral'>Hi</h2>
      <p>
          <span id='first' class='js'>HI</span> <span class='js'>Hi</span> is one of the three core
          technologies of <span>World Wide Web</span> content production. <span>plug-ins</span> by means of a built-in <span class='js'>JavaScript</span> engine. Each of the many <span class='js'>JavaScript</span> engines represent a
          different implementation of <span class='js'>Hi</span>, all based on the ECMAScript specification, with some engines not supporting
      </p>
    </div>
  </div>
  
  <ul class='nav'>
    <li>
      <a href='#'>Press(dropdown practice)</a>
      <ul class='submenu'>
        <li><a href='#'>Current</a></li>
        <li><a href='#'>Past</a></li>
      </ul>
    </li>
  </ul>

  
  <div class="scroll-banner">
    <span class="scroll-text">LATEST EXHIBITION NOW OPEN — VISIT OUR GALLERY — NEW WORKS ADDED WEEKLY</span>
  </div>


  <div class="gallery"> <!-- 이미지를 한줄로 정렬 -->
    <img src="https://picsum.photos/400/300?random=1" alt="">
    <img src="https://picsum.photos/400/300?random=2" alt="">
    <img src="https://picsum.photos/400/300?random=3" alt="">
    <img src="https://picsum.photos/400/300?random=4" alt="">
  </div>

  <div class="overlay" id="overlay" role = "dialog" aria-modal ="true" aria-hidden="true">
    <!-- class overlay : css에서 화면 전체를 덮는 검은 반투명 배경을 만들기 위함
        id overlay : js에서 document.getElementById("overlay")로 찾아오기 위한 식별자
        role : 스크린리더에게 이건 팝업창 역할임을 알려줌(접근성을 위함))
        aria : 팝업이 열려이을 때 팝업 안에서만 상호작용 해야한다는 의미. 기본 상태에서는 숨겨져 있고, 오버레이 열리면 js가 falseㄹ 바뀌어 보이게 됨)-->
    <span class="closebtn" id="closebtn" aria-label="Close">&times</span>
    <!-- class closebtn : css에서 오른쪽 위에 X버튼 모양을 만듦
        id closebtn : js에서 이 번튼에 click 이벤트 달기 위해 필요
        aria Close : 스크린리더가 x만 읽으면 뭔지 모를 수 있으니, 닫기라고 읽어주도록 지정
        &times : HTML 특수문자코드, X 기호 출력-->
    <img id="overlayImg" src="" alt="">
    <!-- id overlayImg : js에서 이 요소에 클릭한 사진의 큰 이미지 넣어줌, src도 마찬가지로 js가 넣어줌
        alt : 대체텍스트 -->
  </div>

  <script>
 const thumbs = document.querySelectorAll('.gallery img'); // 1. 썸네일(작은 이미지)들 선택해서 NodeList(배열 비슷한 것)로 저장
const overlay = document.getElementById('overlay'); // 2. 오버레이(큰 이미지 띄우는 박스) 요소 선택
const overlayImg = document.getElementById('overlayImg'); // 3. 오버레이 안의 <img> 요소 선택 (큰 이미지가 들어갈 곳)
const closeBtn = document.getElementById('closebtn'); // 4. 닫기 버튼 선택

thumbs.forEach(t => { // 5. 모든 썸네일 각각에 대해서 아래 작업을 반복
  t.addEventListener('click', () => { // 6. 해당 썸네일 클릭 시 발동하는 함수 등록
    const src = t.dataset.large || t.src; // 7. data-large 속성이 있으면 그 값을, 없으면 썸네일 src를 사용
    overlayImg.src = src; // 8. 오버레이 이미지(src)를 큰 이미지 URL로 설정 -> 이미지를 로드함
    overlay.classList.add('show'); // 9. CSS 클래스 'show'를 붙여서 오버레이를 화면에 보이게 함
    overlay.setAttribute('aria-hidden','false'); // 10. 접근성: 오버레이가 보인다는 것을 표시
    // (선택) 여기서 포커스를 오버레이로 보내면 접근성이 좋아짐
  });
});

function close() { // 11. 오버레이를 닫는 재사용 가능한 함수 정의
  overlay.classList.remove('show'); // 12. 'show' 클래스 제거해서 숨김 처리
  overlay.setAttribute('aria-hidden','true'); // 13. 접근성: 오버레이가 숨겨졌음을 표시
  overlayImg.src = ''; // 14. 큰 이미지 src를 비워서 메모리/네트워크 리소스 해제(선택적)
}

closeBtn.addEventListener('click', close); // 15. 닫기 버튼 클릭하면 close() 실행

overlay.addEventListener('click', (e) => { // 16. 오버레이 배경 클릭 처리
  if (e.target === overlay) close(); // 17. 클릭한 대상이 'overlay' 자체(배경)일 때만 닫기 — 이미지 클릭은 무시
});

document.addEventListener('keydown', (e) => { // 18. 문서 전체에서 키보드 입력 감시
  if (e.key === 'Escape' && overlay.classList.contains('show')) close(); // 19. ESC키 눌렀고 오버레이가 보이는 상태면 닫기
});

  </script>

  
</body>
</html>
